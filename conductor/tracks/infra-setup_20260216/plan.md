# Implementation Plan: Infrastructure & Core Setup

**Track ID:** infra-setup_20260216
**Spec:** [spec.md](./spec.md)
**Created:** 2026-02-16
**Status:** [ ] Not Started

## Overview
Configuración progresiva del entorno de desarrollo siguiendo el patrón de TDD Estricto para los Wrappers y la salud del sistema.

## Phase 1: Docker Infrastructure
Levantar los servicios base necesarios para el motor.

### Tasks
- [x] Task 1.1: Crear `docker-compose.yml` con MySQL 8.0 y Redis 7.
- [x] Task 1.2: Configurar variables de entorno iniciales en archivo `.env.example`.
- [x] Task 1.3: Implementar healthchecks en el Compose para asegurar disponibilidad de servicios.

### Verification
- [x] Ejecutar `docker-compose up -d` y verificar que los contenedores están `healthy`.

## Phase 2: NestJS Scaffolding & Health
Inicializar la aplicación y la estructura de módulos.

### Tasks
- [x] Task 2.1: Generar proyecto NestJS base en el directorio raíz.
- [x] Task 2.2: Implementar el `HealthModule` y el endpoint `GET /health`.
- [x] Task 2.3: Configurar el sistema de configuración global (`@nestjs/config`).

### Verification
- [x] `npm run start:dev` y consulta exitosa a `localhost:3000/health`.

## Phase 3: Domain Wrappers (Agnosticism)
Definir las interfaces para evitar el acoplamiento a librerías externas.

### Tasks
- [x] Task 3.1: Crear interfaces para el `CacheService` (Wrapper de Redis).
- [x] Task 3.2: Crear interfaces para el `Repository` base (Wrapper de DB).
- [x] Task 3.3: Implementar Mocks iniciales de estos servicios para tests.

### Verification
- [x] Tests unitarios pasando para los Wrappers con sus Mocks.

## Phase 4: Database Schema & Persistence
Configurar la persistencia de datos inicial.

### Tasks
- [x] Task 4.1: Configurar TypeORM con el driver de MySQL.
- [x] Task 4.2: Crear entidades base: `Inventory` y `Booking`.
- [x] Task 4.3: Generar y ejecutar la migración inicial del esquema.

### Verification
- [x] Verificar creación de tablas en MySQL mediante cliente SQL.

## Final Verification
- [x] All acceptance criteria met.
- [x] Tests passing.
- [x] Documentation updated in `README.md`.

---

_Generated by Conductor. Tasks will be marked [~] in progress and [x] complete._
